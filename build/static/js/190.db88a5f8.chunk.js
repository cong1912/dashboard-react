"use strict";(self.webpackChunktokyo_free_white_react_admin_dashboard=self.webpackChunktokyo_free_white_react_admin_dashboard||[]).push([[190],{39190:function(e,t,n){n.r(t);var a=n(74165),r=n(15861),s=n(70885),i=n(72791),c=n(13239),l=n(48550),u=n(17133),o=n(36151),d=n(56225),p=n(10951),h=n(85159),m=n(94026),x=n(1288),Z=n(20269),f=n(29499),j=n(75421),g=n(72419),v=n(38437),b=n(19916),C=n(64133),S=n(54169),w=n(70),_=n(80184),k=(0,d.Z)((function(e){return{root:{"& .MuiFormControl-root":{width:"100%"}}}}));t.default=function(e){var t=e.open,n=e.setIsOpenUpdateModal,d=e.id,y=e.newsId,E=k(),F=(0,i.useState)(""),I=(0,s.Z)(F,2),R=I[0],T=I[1],U=(0,i.useState)(""),D=(0,s.Z)(U,2),z=D[0],M=D[1],O=(0,i.useState)(!1),$=(0,s.Z)(O,2),A=$[0],G=$[1],J=(0,i.useState)([]),L=(0,s.Z)(J,2),N=L[0],P=L[1],Q=(0,i.useState)(""),W=(0,s.Z)(Q,2),Y=W[0],q=W[1],B=(0,i.useContext)(C.I),H=B.errorsReducer,K=B.successReducer,V=(0,s.Z)(H,2),X=(V[0],V[1]),ee=(0,s.Z)(K,2),te=(ee[0],ee[1]),ne=(0,g.ZP)(d?f.t$+d:null,j.Y).data;(0,i.useEffect)((function(){if(d&&ne){var e=null==ne.imgUrl?null:"http://139.59.104.129:8000/"+ne.imgUrl.replace("public/","");T(ne.title),M(ne.content),q(e)}}),[ne,d]);var ae=function(){n(!1)},re=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,(r=new FormData).append("content",z),r.append("title",R),r.append("newsId",+y),N[0]&&r.append("file",N[0]),e.next=9,(0,v.D)(r,d);case 9:return te({type:S.s3.SET_SUCCESS,success:"Edit Question Success"}),e.next=12,(0,g.JG)(f.t$+"?newsId=".concat(y));case 12:n(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),X({type:b.Tl.SET_ERROR,error:e.t0.response.data.message}),G(!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return ne?(0,_.jsxs)(p.Z,{open:t,onClose:ae,maxWidth:"sm",children:[(0,_.jsx)(h.Z,{children:"Ch\u1ec9nh s\u1eeda c\xe2u h\u1ecfi"}),(0,_.jsxs)("form",{className:E.root,onSubmit:re,children:[(0,_.jsx)(m.Z,{children:(0,_.jsxs)(x.Z,{container:!0,spacing:2,children:[(0,_.jsx)(x.Z,{item:!0,xs:12,children:(0,_.jsx)(l.Z,{variant:"outlined",label:"Title",name:"title",onChange:function(e){T(e.target.value)},value:R})}),(0,_.jsx)(x.Z,{item:!0,xs:12,children:(0,_.jsx)(l.Z,{label:"Content",multiline:!0,rows:5,name:"content",value:z,onChange:function(e){return M(e.target.value)}})}),(0,_.jsxs)(x.Z,{item:!0,xs:12,children:[(0,_.jsx)(u.Z,{children:"Thumb"}),(0,_.jsx)(w.A0,{initialFiles:[Y],onChange:function(e){P(e)},acceptedFiles:["image/jpeg","image/png","image/bmp"],maxFileSize:5e6,filesLimit:1})]})]})}),(0,_.jsxs)(Z.Z,{children:[(0,_.jsx)(o.Z,{color:"primary",size:"large",type:"submit",disabled:A,children:"Submit"}),(0,_.jsx)(o.Z,{onClick:ae,children:"Cancel"})]})]})]}):(0,_.jsx)(c.Z,{})}}}]);
//# sourceMappingURL=190.db88a5f8.chunk.js.map