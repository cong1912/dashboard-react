"use strict";(self.webpackChunktokyo_free_white_react_admin_dashboard=self.webpackChunktokyo_free_white_react_admin_dashboard||[]).push([[1792],{1792:function(e,t,n){n.r(t);var a=n(1413),r=n(74165),i=n(15861),s=n(29439),l=n(72791),o=n(13239),c=n(61889),u=n(48550),d=n(84648),h=n(17133),m=n(24518),p=n(56225),Z=n(70),x=n(10951),g=n(85159),f=n(94026),v=n(94135),j=n(5193),b=n(20269),C=n(39343),S=n(75421),k=n(29499),y=n(72419),_=n(27133),P=n(54169),w=n(19916),E=n(64133),I=n(80184),T=(0,p.Z)((function(e){return{root:{"& .MuiFormControl-root":{width:"100%"},"& .ql-container":{height:300}}}}));t.default=function(e){var t=e.open,n=e.id,p=e.setIsOpenUpdateModal,F=T(),R=(0,l.useState)(!1),z=(0,s.Z)(R,2),A=z[0],D=z[1],O=(0,l.useState)(!1),q=(0,s.Z)(O,2),G=q[0],J=q[1],L=(0,l.useContext)(E.I),M=L.errorsReducer,U=L.successReducer,W=(0,s.Z)(M,2),B=(W[0],W[1]),N=(0,s.Z)(U,2),H=(N[0],N[1]),K=(0,l.useState)([]),Q=(0,s.Z)(K,2),V=Q[0],X=Q[1],Y=(0,l.useState)(),$=(0,s.Z)(Y,2),ee=$[0],te=$[1],ne=(0,l.useState)([]),ae=(0,s.Z)(ne,2),re=ae[0],ie=ae[1],se=(0,l.useState)(""),le=(0,s.Z)(se,2),oe=le[0],ce=le[1],ue=(0,l.useState)(""),de=(0,s.Z)(ue,2),he=de[0],me=de[1],pe=(0,l.useState)(""),Ze=(0,s.Z)(pe,2),xe=Ze[0],ge=Ze[1],fe=(0,l.useState)(""),ve=(0,s.Z)(fe,2),je=ve[0],be=ve[1],Ce=(0,l.useState)(),Se=(0,s.Z)(Ce,2),ke=Se[0],ye=Se[1],_e=(0,y.ZP)(n?[k.kA+n,k.z9]:null,S.j),Pe=_e.data,we=_e.error;(0,l.useEffect)((function(){if(n&&!we&&Pe){var e=Pe,t=(0,s.Z)(e,2),a=t[0],r=t[1];me(a.value.article.title),J(a.value.article.highlight),ge(a.value.article.summary),ce(a.value.article.content),be("".concat("http://157.230.212.40:8000/"+a.value.article.image.slice(7,a.value.article.image.length))),X(r.value.results),ye(r.value.results.findIndex((function(e){return e.id==a.value.article.categoryId})))}}),[Pe,n]);var Ee=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,(a=new FormData).append("content",oe),a.append("title",he),a.append("summary",xe),a.append("highlight",G),ee&&a.append("categoryId",ee.id),re[0]&&a.append("file",re[0]),e.next=11,(0,_.zZ)(a,n);case 11:return H({type:P.s3.SET_SUCCESS,success:"Edit Blog Success"}),e.next=14,(0,y.JG)(k.kA);case 14:return e.next=16,(0,y.JG)(k.kA+n);case 16:p(!1),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),B({type:w.Tl.SET_ERROR,error:e.t0.response.data.message}),D(!1);case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){p(!1)};return Pe?(0,I.jsxs)(x.Z,{open:t,onClose:Ie,fullWidth:!0,maxWidth:"xl",children:[(0,I.jsx)(g.Z,{children:"Ch\u1ec9nh s\u1eeda tin t\u1ee9c"}),(0,I.jsxs)("form",{className:F.root,onSubmit:Ee,children:[(0,I.jsx)(f.Z,{children:Pe?(0,I.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,I.jsx)(c.ZP,{item:!0,xs:12,children:(0,I.jsx)(u.Z,{variant:"outlined",label:"Title",name:"title",onChange:function(e){return me(e.target.value)},value:he})}),(0,I.jsx)(c.ZP,{item:!0,xs:12,children:(0,I.jsx)(u.Z,{variant:"outlined",label:"Description",name:"summary",onChange:function(e){return ge(e.target.value)},value:xe})}),(0,I.jsxs)(c.ZP,{item:!0,xs:12,children:[" ",(0,I.jsx)(d.Z,{disablePortal:!0,id:"combo-box-demo",options:V,onChange:function(e,t){return te(t)},value:V[ke],getOptionLabel:function(e){return e.name},renderInput:function(e){return(0,I.jsx)(u.Z,(0,a.Z)((0,a.Z)({},e),{},{label:"Category"}))}})]}),(0,I.jsx)(c.ZP,{item:!0,xs:12,children:(0,I.jsx)(C.Z,{content:oe,handleChangeContent:ce})}),(0,I.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,I.jsx)(h.Z,{children:"Thumb"}),(0,I.jsx)(Z.A0,{initialFiles:[je],onChange:function(e){ie(e)},acceptedFiles:["image/jpeg","image/png","image/bmp"],maxFileSize:5e6,filesLimit:1})]}),(0,I.jsx)(c.ZP,{item:!0,xs:12,children:(0,I.jsx)(v.Z,{control:(0,I.jsx)(j.Z,{checked:G}),onChange:function(e){J(!G)},labelPlacement:"start",label:"This is the highlight:"})})]}):(0,I.jsx)(o.Z,{})}),(0,I.jsxs)(b.Z,{children:[(0,I.jsx)(m.Z,{color:"primary",size:"large",type:"submit",disabled:A,children:"Submit"}),(0,I.jsx)(m.Z,{onClick:Ie,children:"Cancel"})]})]})]}):(0,I.jsx)("div",{})}},39343:function(e,t,n){var a=n(72791),r=n(66770),i=n.n(r),s=(n(86009),n(80184)),l=function(e){var t=e.content,n=e.handleChangeContent;return(0,s.jsx)(i(),{modules:{toolbar:[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"},{align:[]}],["link","image","video"],["clean"]]},theme:"snow",value:t,onChange:n})};t.Z=a.memo(l)}}]);
//# sourceMappingURL=1792.98622239.chunk.js.map