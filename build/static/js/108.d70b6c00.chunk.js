"use strict";(self.webpackChunktokyo_free_white_react_admin_dashboard=self.webpackChunktokyo_free_white_react_admin_dashboard||[]).push([[108],{70932:function(e,t,n){var r=n(72791),a=n(5289),i=n(65661),o=n(39157),s=n(51691),c=n(97123),u=n(24518),l=n(80184),d=function(e){var t=e.open,n=e.name,r=e.handleClose,d=e.handleDelete;return(0,l.jsxs)(a.Z,{"data-testid":"dialogDelete",open:t,onClose:r,"aria-labelledby":"draggable-dialog-title",children:[(0,l.jsxs)(i.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:["Delete ",n]}),(0,l.jsx)(o.Z,{children:(0,l.jsxs)(s.Z,{children:["Do you want to delete this ",n]})}),(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(u.Z,{autoFocus:!0,onClick:r,children:"Cancel"}),(0,l.jsx)(u.Z,{onClick:d,"data-testid":"btnDelete",children:"Yes"})]})]})};t.Z=r.memo(d)},10173:function(e,t,n){var r=n(66934),a=n(91614),i=n(68870),o=n(20890),s=n(23060),c=n(80184),u=(0,r.ZP)(a.Z)((function(e){var t=e.theme;return"\n        margin-top: ".concat(t.spacing(4),";\n")}));t.Z=function(){return(0,c.jsx)(u,{className:"footer-wrapper",children:(0,c.jsxs)(i.Z,{pb:4,display:{xs:"block",md:"flex"},alignItems:"center",textAlign:{xs:"center",md:"left"},justifyContent:"space-between",children:[(0,c.jsx)(i.Z,{children:(0,c.jsx)(o.Z,{variant:"subtitle1",children:"\xa9 2022 - Tokyo Free White React Typescript Admin Dashboard"})}),(0,c.jsxs)(o.Z,{sx:{pt:{xs:2,md:0}},variant:"subtitle1",children:["Crafted by"," ",(0,c.jsx)(s.Z,{href:"https://bloomui.com",target:"_blank",rel:"noopener noreferrer",children:"BloomUI.com"})]})]})})}},68418:function(e,t,n){var r=n(66934),a=n(68870),i=n(91614),o=n(80184),s=(0,r.ZP)(a.Z)((function(e){var t=e.theme;return"\n        padding: ".concat(t.spacing(4),";\n")}));t.Z=function(e){var t=e.children;return(0,o.jsx)(s,{className:"MuiPageTitle-wrapper",children:(0,o.jsx)(i.Z,{maxWidth:"lg",children:t})})}},29499:function(e,t,n){n.d(t,{R3:function(){return s},Yc:function(){return o},gO:function(){return i},kA:function(){return r},z9:function(){return a}});var r="".concat("http://139.59.104.129:8000/api/v1/","/news/articles/"),a=("".concat("http://139.59.104.129:8000/api/v1/","/categories"),"".concat("http://139.59.104.129:8000/api/v1/","/article_category")),i="".concat("http://139.59.104.129:8000/api/v1/","/courses/"),o="".concat("http://139.59.104.129:8000/api/v1/","/section/"),s="".concat("http://139.59.104.129:8000/api/v1/","/post/")},60108:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var r=n(74165),a=n(15861),i=n(29439),o=n(72791),s=n(6907),c=n(61889),u=n(20890),l=n(24518),d=n(74696),h=n(80184);var p=function(e){var t=e.handleClickOpenDialog;return(0,h.jsxs)(c.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,h.jsxs)(c.ZP,{item:!0,children:[(0,h.jsx)(u.Z,{variant:"h3",component:"h3",gutterBottom:!0,children:"Transactions"}),(0,h.jsxs)(u.Z,{variant:"subtitle2",children:["Catherine Pike",", manage your courses"]})]}),(0,h.jsx)(c.ZP,{item:!0,children:(0,h.jsx)(l.Z,{sx:{mt:{xs:2,md:0}},variant:"contained",startIcon:(0,h.jsx)(d.Z,{fontSize:"small"}),onClick:t,children:"Create new Course"})})]})},f=n(68418),m=n(91614),Z=n(13239),x=n(10173),g=n(72419),j=n(29499),v=n(75421),w=n(19916),C=n(64133),S=n(54169),b=n(20670),y=n(4942),k=n(68870),I=n(38147),z=n(43212),P=n(5519),N=n(97639),_=n(13400),O=n(52449),D=n(38820),A=n(5397),T=n(15238),R=n(70932),B=n(16871),J=(0,o.lazy)((function(){return Promise.all([n.e(9820),n.e(4619),n.e(411),n.e(8850)]).then(n.bind(n,78850))})),E=function(e){var t=e.params,n=(e.rowId,e.setRowId,(0,o.useState)(!1)),s=(0,i.Z)(n,2),c=s[0],u=s[1],l=(0,o.useState)(!1),d=(0,i.Z)(l,2),p=d[0],f=d[1],m=(0,o.useState)(),Z=(0,i.Z)(m,2),x=Z[0],v=Z[1],w=(0,B.s0)(),C=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,T.X4)(t.id);case 2:return e.next=4,(0,g.JG)(j.kA);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(k.Z,{children:[(0,h.jsx)(N.Z,{title:"View course sections",children:(0,h.jsx)(_.Z,{onClick:function(){return w("/management/course/".concat(t.id,"/sections"))},children:(0,h.jsx)(O.Z,{})})}),(0,h.jsx)(N.Z,{title:"Edit this course",children:(0,h.jsx)(_.Z,{onClick:function(){u(!0),v(t.id)},children:(0,h.jsx)(D.Z,{})})}),(0,h.jsx)(N.Z,{title:"Delete this course",children:(0,h.jsx)(_.Z,{onClick:function(){return C(t)},children:(0,h.jsx)(A.Z,{})})})]}),(0,h.jsx)(J,{id:x,open:c,setIsOpenUpdateModal:u}),(0,h.jsx)(R.Z,{open:p,name:"blog",handleClose:function(){f(!1)},handleDelete:function(){f(!0)}})]})},F=function(e){var t=e.course,n=(0,o.useState)(t.pageSize),r=(0,i.Z)(n,2),a=r[0],s=r[1],c=(0,o.useState)(null),l=(0,i.Z)(c,2),d=l[0],p=l[1],f=(0,o.useMemo)((function(){return[{field:"id",headerName:"Id",width:220},{field:"title",headerName:"Title",width:170},{field:"description",headerName:"Description",width:200},{field:"image",headerName:"Image",width:200,renderCell:function(e){var t=e.row.image.slice(7,e.value.length);return(0,h.jsx)("img",{crossOrigin:"anonymous",src:"http://139.59.104.129:8000/"+t,loading:"lazy",width:"30%"})},sortable:!1,filterable:!1},{field:"viewed",headerName:"Viewed",width:200},{field:"shared",headerName:"Shared",width:200},{field:"status",headerName:"status",width:100,type:"boolean"},{field:"actions",headerName:"Actions",type:"actions",renderCell:function(e){return(0,h.jsx)(E,{params:e,rowId:d,setRowId:p})}}]}),[d]);return(0,h.jsxs)(k.Z,{sx:{height:600,width:"100%",pb:5},children:[(0,h.jsx)(u.Z,{variant:"h3",component:"h3",sx:{textAlign:"center",mt:3,mb:3},children:"Manage Course"}),(0,h.jsx)(I._,{columns:f,rows:t.results,getRowId:function(e){return e.id},rowsPerPageOptions:[5,10,20],pageSize:a,onPageSizeChange:function(e){return s(e)},getRowSpacing:function(e){return{top:e.isFirstVisible?0:5,bottom:e.isLastVisible?0:5}},sx:(0,y.Z)({},"& .".concat(z._.row),{bgcolor:function(e){return"light"===e.palette.mode?P.Z[200]:P.Z[900]}}),onCellEditCommit:function(e){return p(e.id)}})]})},M=(0,o.lazy)((function(){return Promise.all([n.e(9820),n.e(4619),n.e(411),n.e(2200)]).then(n.bind(n,82200))})),V=function(){var e=(0,o.useState)(!1),t=(0,i.Z)(e,2),n=t[0],u=t[1],l=(0,o.useState)(""),d=(0,i.Z)(l,2),y=d[0],k=d[1],I=(0,o.useState)(!1),z=(0,i.Z)(I,2),P=z[0],N=z[1],_=(0,o.useState)([]),O=(0,i.Z)(_,2),D=O[0],A=O[1],T=(0,o.useState)(),R=(0,i.Z)(T,2),B=R[0],J=R[1],E=(0,o.useState)(""),V=(0,i.Z)(E,2),Y=V[0],H=V[1],U=(0,o.useContext)(C.I),W=U.errorsReducer,q=U.successReducer,G=(0,i.Z)(W,2),X=(G[0],G[1]),L=(0,i.Z)(q,2),K=(L[0],L[1]),Q=(0,g.ZP)(j.gO,v.Y).data,$=(0,g.ZP)(j.z9,v.Y).data;(0,o.useEffect)((function(){$&&J($.results[0])}),[$]);var ee=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,(n=new FormData).append("file",D[0]),n.append("description",y),n.append("title",Y),n.append("categoryId",B.id&&"1"),e.next=9,(0,b.P)(n);case 9:return K({type:S.s3.SET_SUCCESS,success:"Create Blog Success"}),e.next=12,(0,g.JG)(j.gO);case 12:u(!1),k(""),H(""),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),X({type:w.Tl.SET_ERROR,error:e.t0.response.data.message}),N(!1);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return Q&&$?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(s.ql,{children:(0,h.jsx)("title",{children:"Course - Manager"})}),(0,h.jsx)(f.Z,{children:(0,h.jsx)(p,{handleClickOpenDialog:function(){u(!0)}})}),(0,h.jsx)(m.Z,{maxWidth:"lg",children:(0,h.jsx)(c.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,h.jsx)(c.ZP,{item:!0,xs:12,children:Q?(0,h.jsx)(F,{course:Q}):(0,h.jsx)(Z.Z,{})})})}),(0,h.jsx)(x.Z,{}),$?(0,h.jsx)(M,{open:n,handleClose:function(){u(!1)},setTitle:H,title:Y,handleChangeDescription:k,setImage:A,requesting:P,handleCreateCourse:ee,categories:$,category:B,setCategory:J}):(0,h.jsx)(Z.Z,{})]}):(0,h.jsx)(h.Fragment,{})}},75421:function(e,t,n){n.d(t,{Y:function(){return o},j:function(){return s}});var r=n(74165),a=n(15861),i=n(61044),o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("token")||"null"),e.next=3,i.Z.get(t,{headers:{Authorization:n}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a,i=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,n=new Array(t),a=0;a<t;a++)n[a]=i[a];return e.abrupt("return",Promise.allSettled(n.map((function(e){return o(e)}))));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},15238:function(e,t,n){n.d(t,{Vh:function(){return a},X4:function(){return o},zZ:function(){return i}});var r=n(61044),a=function(e){var t=JSON.parse(localStorage.getItem("token")||"null");return(0,r.Z)({method:"post",url:"/news/articles",data:e,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}})},i=function(e,t){var n=JSON.parse(localStorage.getItem("token")||"null");return(0,r.Z)({method:"put",url:"/news/articles/".concat(t),data:e,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(n)}})},o=function(e){var t=JSON.parse(localStorage.getItem("token")||"null");return(0,r.Z)({method:"delete",url:"/news/articles/".concat(e),headers:{Authorization:"Bearer ".concat(t)}})}},20670:function(e,t,n){n.d(t,{H:function(){return i},P:function(){return a}});var r=n(61044),a=function(e){var t=JSON.parse(localStorage.getItem("token")||"null");return(0,r.Z)({method:"post",url:"/courses",data:e,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}})},i=function(e,t){var n=JSON.parse(localStorage.getItem("token")||"null");return(0,r.Z)({method:"put",url:"/courses/".concat(t),data:e,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(n)}})}},52449:function(e,t,n){var r=n(76189),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm0 16H5V7h14v12zm-5.5-6c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5 1.5.67 1.5 1.5zM12 9c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4zm0 6.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"Preview")}}]);
//# sourceMappingURL=108.d70b6c00.chunk.js.map