"use strict";(self.webpackChunktokyo_free_white_react_admin_dashboard=self.webpackChunktokyo_free_white_react_admin_dashboard||[]).push([[850],{78850:function(e,t,n){n.r(t);var a=n(1413),r=n(74165),i=n(15861),s=n(70885),o=n(72791),c=n(61889),l=n(48550),u=n(84648),d=n(68096),p=n(17133),h=n(36151),m=n(56225),g=n(70),x=n(10951),Z=n(85159),f=n(94026),b=n(20269),j=n(54169),C=n(19916),v=n(64133),S=n(75421),_=n(29499),k=n(72419),w=n(20670),y=n(80184),E=(0,m.Z)((function(e){return{root:{"& .MuiFormControl-root":{width:"90%",margin:e.spacing(1)},"& .MuiDialogContent-root":{height:400},"& .MuiBox-root":{width:"90%",margin:e.spacing(1)},"& .quill":{height:180}},btn:{margin:e.spacing(.5)},label:{textTransform:"none",margin:e.spacing(.5)}}}));t.default=function(e){var t=e.open,n=e.id,m=e.setIsOpenUpdateModal,I=E(),O=(0,o.useState)(!1),P=(0,s.Z)(O,2),T=P[0],F=P[1],R=(0,o.useState)([]),M=(0,s.Z)(R,2),D=M[0],U=M[1],z=(0,o.useState)(),G=(0,s.Z)(z,2),J=G[0],L=G[1],N=(0,o.useState)([]),W=(0,s.Z)(N,2),Y=W[0],q=W[1],A=(0,o.useState)(""),B=(0,s.Z)(A,2),H=B[0],K=B[1],Q=(0,o.useState)(""),V=(0,s.Z)(Q,2),X=V[0],$=V[1],ee=(0,o.useState)(""),te=(0,s.Z)(ee,2),ne=te[0],ae=te[1],re=(0,o.useContext)(v.I),ie=re.errorsReducer,se=re.successReducer,oe=(0,s.Z)(ie,2),ce=(oe[0],oe[1]),le=(0,s.Z)(se,2),ue=(le[0],le[1]),de=(0,k.ZP)(n?_.gO+n:null,S.Y).data,pe=(0,k.ZP)(_.Ud,S.Y).data;(0,o.useEffect)((function(){n&&de&&($(de.title),K(de.description),de&&(ae("".concat("http://139.59.104.129:8000/"+de.image.slice(7,de.image.length))),U(pe.results),L(pe.results[pe.results.findIndex((function(e){return e.id==de.categoryId}))])))}),[pe,de,n]);var he=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,(a=new FormData).append("title",X),a.append("description",H),J&&a.append("categoryId",J.id),Y[0]&&a.append("file",Y[0]),e.next=9,(0,w.H)(a,n);case 9:return ue({type:j.s3.SET_SUCCESS,success:"Edit Course Success"}),e.next=12,(0,k.JG)(_.gO);case 12:return e.next=14,(0,k.JG)(_.gO+n);case 14:m(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),ce({type:C.Tl.SET_ERROR,error:e.t0.response.data.message}),F(!1);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),me=function(){m(!1)};return de&&pe?(0,y.jsxs)(x.Z,{open:t,onClose:me,fullWidth:!0,maxWidth:"xl",children:[(0,y.jsx)(Z.Z,{children:"Ch\u1ec9nh s\u1eeda kh\xf3a h\u1ecdc"}),(0,y.jsxs)("form",{className:I.root,onSubmit:he,children:[(0,y.jsx)(f.Z,{children:(0,y.jsxs)(c.ZP,{container:!0,children:[(0,y.jsxs)(c.ZP,{item:!0,xs:6,children:[(0,y.jsx)(l.Z,{variant:"outlined",label:"Title",name:"title",onChange:function(e){return $(e.target.value)},value:X}),(0,y.jsx)(u.Z,{disablePortal:!0,id:"combo-box-demo",options:D,onChange:function(e,t){return L(t)},value:J,getOptionLabel:function(e){return e.name},renderInput:function(e){return(0,y.jsx)(l.Z,(0,a.Z)((0,a.Z)({},e),{},{label:"Category"}))}}),(0,y.jsx)(l.Z,{label:"Content",multiline:!0,rows:5,name:"content",value:H,onChange:function(e){return K(e.target.value)}})]}),(0,y.jsx)(c.ZP,{item:!0,xs:6,children:(0,y.jsxs)(d.Z,{children:[(0,y.jsx)(p.Z,{children:"Thumb"}),(0,y.jsx)(g.A0,{initialFiles:[ne],onChange:function(e){q(e)},acceptedFiles:["image/jpeg","image/png","image/bmp"],maxFileSize:5e6,filesLimit:1})]})})]})}),(0,y.jsxs)(b.Z,{children:[(0,y.jsx)(h.Z,{color:"primary",size:"large",type:"submit",className:I.label,disabled:T,children:"Submit"}),(0,y.jsx)(h.Z,{onClick:me,children:"Cancel"})]})]})]}):(0,y.jsx)("div",{})}}}]);
//# sourceMappingURL=850.fb3cc197.chunk.js.map