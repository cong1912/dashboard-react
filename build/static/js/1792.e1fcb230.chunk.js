"use strict";(self.webpackChunktokyo_free_white_react_admin_dashboard=self.webpackChunktokyo_free_white_react_admin_dashboard||[]).push([[1792],{1792:function(e,t,n){n.r(t);var a=n(1413),r=n(74165),i=n(15861),s=n(29439),l=n(72791),o=n(13239),u=n(61889),c=n(48550),d=n(68096),m=n(84648),p=n(17133),h=n(24518),Z=n(56225),g=n(52791),x=n(411),f=n(10951),v=n(85159),b=n(94026),j=n(20269),C=n(39343),S=n(75421),k=n(29499),y=n(72419),_=n(27133),w=n(54169),E=n(19916),I=n(64133),T=n(80184),A=(0,Z.Z)((function(e){return{root:{"& .MuiFormControl-root":{width:"90%",margin:e.spacing(1)},"& .MuiDialogContent-root":{height:400},"& .MuiBox-root":{width:"90%",margin:e.spacing(1)},"& .quill":{height:120}},btn:{margin:e.spacing(.5)},label:{textTransform:"none",margin:e.spacing(.5)}}}));t.default=function(e){var t=e.open,n=e.id,Z=e.setIsOpenUpdateModal,F=A(),P=(0,l.useState)(!1),R=(0,s.Z)(P,2),z=R[0],D=R[1],M=(0,l.useContext)(I.I),O=M.errorsReducer,q=M.successReducer,B=(0,s.Z)(O,2),G=(B[0],B[1]),J=(0,s.Z)(q,2),L=(J[0],J[1]),N=(0,l.useState)([]),U=(0,s.Z)(N,2),W=U[0],H=U[1],K=(0,l.useState)(),Q=(0,s.Z)(K,2),V=Q[0],X=Q[1],Y=(0,l.useState)([]),$=(0,s.Z)(Y,2),ee=$[0],te=$[1],ne=(0,l.useState)(""),ae=(0,s.Z)(ne,2),re=ae[0],ie=ae[1],se=(0,l.useState)(""),le=(0,s.Z)(se,2),oe=le[0],ue=le[1],ce=(0,l.useState)(""),de=(0,s.Z)(ce,2),me=de[0],pe=de[1],he=(0,l.useState)(""),Ze=(0,s.Z)(he,2),ge=Ze[0],xe=Ze[1],fe=(0,l.useState)(),ve=(0,s.Z)(fe,2),be=ve[0],je=ve[1],Ce=(0,y.ZP)(n?[k.kA+n,k.z9]:null,S.j),Se=Ce.data,ke=Ce.error;(0,l.useEffect)((function(){if(n&&!ke&&Se){var e=Se,t=(0,s.Z)(e,2),a=t[0],r=t[1];ue(a.value.article.title),pe(a.value.article.summary),ie(a.value.article.content),xe("".concat("http://139.59.104.129:8000/"+a.value.article.image.slice(7,a.value.article.image.length))),H(r.value.results),je(r.value.results.findIndex((function(e){return e.id==a.value.article.categoryId})))}}),[Se,n]);var ye=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,(a=new FormData).append("content",re),a.append("title",oe),a.append("summary",me),V&&a.append("categoryId",V.id),ee[0]&&a.append("file",ee[0]),e.next=10,(0,_.zZ)(a,n);case 10:return L({type:w.s3.SET_SUCCESS,success:"Edit Blog Success"}),e.next=13,(0,y.JG)(k.kA);case 13:return e.next=15,(0,y.JG)(k.kA+n);case 15:Z(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),G({type:E.Tl.SET_ERROR,error:e.t0.response.data.message}),D(!1);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(){Z(!1)};return Se?(0,T.jsxs)(f.Z,{open:t,onClose:_e,fullWidth:!0,maxWidth:"xl",children:[(0,T.jsx)(v.Z,{children:"Edit Article"}),(0,T.jsxs)("form",{className:F.root,onSubmit:ye,children:[(0,T.jsx)(b.Z,{children:Se?(0,T.jsxs)(u.ZP,{container:!0,children:[(0,T.jsxs)(u.ZP,{item:!0,xs:6,children:[(0,T.jsx)(c.Z,{variant:"outlined",label:"Title",name:"title",onChange:function(e){return ue(e.target.value)},value:oe}),(0,T.jsx)(c.Z,{variant:"outlined",label:"Description",name:"summary",onChange:function(e){return pe(e.target.value)},value:me}),(0,T.jsx)(g.Z,{children:(0,T.jsx)(C.Z,{content:re,handleChangeContent:ie})})]}),(0,T.jsx)(u.ZP,{item:!0,xs:6,children:(0,T.jsxs)(d.Z,{children:[(0,T.jsx)(m.Z,{disablePortal:!0,id:"combo-box-demo",options:W,onChange:function(e,t){return X(t)},value:W[be],getOptionLabel:function(e){return e.name},renderInput:function(e){return(0,T.jsx)(c.Z,(0,a.Z)((0,a.Z)({},e),{},{label:"Category"}))}}),(0,T.jsx)(p.Z,{children:"Thumb"}),(0,T.jsx)(x.A0,{initialFiles:[ge],onChange:function(e){te(e)},acceptedFiles:["image/jpeg","image/png","image/bmp"],maxFileSize:5e6,filesLimit:1})]})})]}):(0,T.jsx)(o.Z,{})}),(0,T.jsxs)(j.Z,{children:[(0,T.jsx)(h.Z,{color:"primary",size:"large",type:"submit",className:F.label,disabled:z,children:"Submit"}),(0,T.jsx)(h.Z,{onClick:_e,children:"Cancel"})]})]})]}):(0,T.jsx)("div",{})}},39343:function(e,t,n){var a=n(72791),r=n(66770),i=n.n(r),s=(n(86009),n(80184)),l=function(e){var t=e.content,n=e.handleChangeContent;return(0,s.jsx)(i(),{modules:{toolbar:[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"},{align:[]}],["link","image","video"],["clean"]]},theme:"snow",value:t,onChange:n})};t.Z=a.memo(l)}}]);
//# sourceMappingURL=1792.e1fcb230.chunk.js.map