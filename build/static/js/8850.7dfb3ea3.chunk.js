"use strict";(self.webpackChunktokyo_free_white_react_admin_dashboard=self.webpackChunktokyo_free_white_react_admin_dashboard||[]).push([[8850],{78850:function(e,t,n){n.r(t);var r=n(1413),a=n(74165),i=n(15861),s=n(29439),o=n(72791),l=n(61889),c=n(48550),u=n(68096),d=n(84648),p=n(17133),h=n(24518),m=n(56225),g=n(52791),x=n(411),Z=n(10951),f=n(85159),b=n(94026),j=n(20269),C=n(39343),v=n(54169),S=n(19916),k=n(64133),_=n(75421),w=n(29499),y=n(72419),E=n(20670),I=n(80184),O=(0,m.Z)((function(e){return{root:{"& .MuiFormControl-root":{width:"90%",margin:e.spacing(1)},"& .MuiDialogContent-root":{height:400},"& .MuiBox-root":{width:"90%",margin:e.spacing(1)},"& .quill":{height:180}},btn:{margin:e.spacing(.5)},label:{textTransform:"none",margin:e.spacing(.5)}}}));t.default=function(e){var t=e.open,n=e.id,m=e.setIsOpenUpdateModal,P=O(),T=(0,o.useState)(!1),F=(0,s.Z)(T,2),R=F[0],M=F[1],z=(0,o.useState)([]),D=(0,s.Z)(z,2),U=D[0],q=D[1],G=(0,o.useState)(),J=(0,s.Z)(G,2),L=J[0],N=J[1],W=(0,o.useState)([]),Y=(0,s.Z)(W,2),A=Y[0],B=Y[1],H=(0,o.useState)(""),K=(0,s.Z)(H,2),Q=K[0],V=K[1],X=(0,o.useState)(""),$=(0,s.Z)(X,2),ee=$[0],te=$[1],ne=(0,o.useState)(""),re=(0,s.Z)(ne,2),ae=re[0],ie=re[1],se=(0,o.useState)(),oe=(0,s.Z)(se,2),le=(oe[0],oe[1],(0,o.useContext)(k.I)),ce=le.errorsReducer,ue=le.successReducer,de=(0,s.Z)(ce,2),pe=(de[0],de[1]),he=(0,s.Z)(ue,2),me=(he[0],he[1]),ge=(0,y.ZP)(n?w.gO+n:null,_.Y).data,xe=(0,y.ZP)(w.z9,_.Y).data;(0,o.useEffect)((function(){n&&ge&&(te(ge.title),V(ge.description),ge&&(ie("".concat("http://139.59.104.129:8000/"+ge.image.slice(7,ge.image.length))),q(xe.results),N(xe.results[xe.results.findIndex((function(e){return e.id==ge.categoryId}))])))}),[xe,ge,n]);var Ze=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,(r=new FormData).append("title",ee),r.append("description",Q),L&&r.append("categoryId",L.id),A[0]&&r.append("file",A[0]),e.next=9,(0,E.H)(r,n);case 9:return me({type:v.s3.SET_SUCCESS,success:"Edit Course Success"}),e.next=12,(0,y.JG)(w.gO);case 12:return e.next=14,(0,y.JG)(w.gO+n);case 14:m(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),pe({type:S.Tl.SET_ERROR,error:e.t0.response.data.message}),M(!1);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){m(!1)};return ge&&xe?(0,I.jsxs)(Z.Z,{open:t,onClose:fe,fullWidth:!0,maxWidth:"xl",children:[(0,I.jsx)(f.Z,{children:"Update Course"}),(0,I.jsxs)("form",{className:P.root,onSubmit:Ze,children:[(0,I.jsx)(b.Z,{children:(0,I.jsxs)(l.ZP,{container:!0,children:[(0,I.jsxs)(l.ZP,{item:!0,xs:6,children:[(0,I.jsx)(c.Z,{variant:"outlined",label:"Title",name:"title",onChange:function(e){return te(e.target.value)},value:ee}),(0,I.jsx)(g.Z,{children:(0,I.jsx)(C.Z,{content:Q,handleChangeContent:V})})]}),(0,I.jsx)(l.ZP,{item:!0,xs:6,children:(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(d.Z,{disablePortal:!0,id:"combo-box-demo",options:U,onChange:function(e,t){return N(t)},value:L,getOptionLabel:function(e){return e.name},renderInput:function(e){return(0,I.jsx)(c.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Category"}))}}),(0,I.jsx)(p.Z,{children:"Thumb"}),(0,I.jsx)(x.A0,{initialFiles:[ae],onChange:function(e){B(e)},acceptedFiles:["image/jpeg","image/png","image/bmp"],maxFileSize:5e6,filesLimit:1})]})})]})}),(0,I.jsxs)(j.Z,{children:[(0,I.jsx)(h.Z,{color:"primary",size:"large",type:"submit",className:P.label,disabled:R,children:"Submit"}),(0,I.jsx)(h.Z,{onClick:fe,children:"Cancel"})]})]})]}):(0,I.jsx)("div",{})}},39343:function(e,t,n){var r=n(72791),a=n(66770),i=n.n(a),s=(n(86009),n(80184)),o=function(e){var t=e.content,n=e.handleChangeContent;return(0,s.jsx)(i(),{modules:{toolbar:[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"},{align:[]}],["link","image","video"],["clean"]]},theme:"snow",value:t,onChange:n})};t.Z=r.memo(o)}}]);
//# sourceMappingURL=8850.7dfb3ea3.chunk.js.map